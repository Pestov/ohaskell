## О модулях, минимум

Настоящие проекты никогда не состоят из одного-единственного файла. Пришла пора узнать о модулях.

Исходные файлы в Haskell-проекте - это и есть модули. Один файл - один модуль. Таким образом, в нашем проекте сейчас есть два модуля: `Main.hs` и `Helpers.hs`.

В Haskell нет заголовочных файлов. Каждый из модулей рассматривается как самостоятельная единица проекта, содержащая в себе разные интересные вещи. И чтобы воспользоваться этими интересными вещами, нужно один модуль импортировать в другой.

Откроем наш пустой файл `Helpers.hs` и напишем в нём:

 
```haskell
module Helpers where

hello user = "Hi, " ++ user
```
Первой строкой мы объявили, что имя этого модуля - `Helpers`. Далее, после ключевого слова `where`, мы наполнили модуль содержимым. Содержимое у нас предельно простое, но пока не спрашивайте меня, что такое `hello`. Очень скоро мы выясним это.

### Импортируем

Откроем файл `Main.hs` и чуток изменим его:
```haskell
import Helpers

main = putStrLn (hello "denis")
```
Мы включили наш модуль `Helpers` с помощью директивы `import`. Теперь  можно воспользоваться содержимым этого модуля, а именно той самой штуковиной по имени `hello`.

### Упоминаем

Теперь упомянем модуль `Helpers` в сборочном файле `Real.cabal`. Открываем его и прописываем наш модуль:
```haskell
executable Real
    main-is:             Main.hs             
    other-modules:       Helpers
    build-depends:       base ==4.6.\*
    hs-source-dirs:      src
``` 
Мы раскомментировали строку other-modules и указали имя нашего модуля. Обращаю ваше внимание: указать нужно не имя файла, а имя модуля.

Но раз уж мы указали имя нашего модуля, необходимо указать и место, где его искать. Ведь он лежит не в каталоге src, а в подкаталоге src/Utils. Поэтому в сборочном файле ищем параметр hs-source-dirs и дописываем:

```haskell
    hs-source-dirs:      src
                         src/Utils
``` 

Сохраняем, собираем:

```bash
$ cabal build
Building Real-0.1.0.0...
Preprocessing executable 'Real' for Real-0.1.0.0...
[1 of 2] Compiling Helpers          ( src/Utils/Helpers.hs, dist/build/Real/Real-tmp/Helpers.o )
[2 of 2] Compiling Main             ( src/Main.hs, dist/build/Real/Real-tmp/Main.o )
Linking dist/build/Real/Real ...
```

Получилось - уже не один, а два модуля были скомпилированы. Теперь запускаем:

r$ ./dist/build/Real/Real

Hi, denis

 

Работает.

### Об именах

Здесь есть два правила.

Во-первых, имя модуля должно начинаться с большой буквы. В отношении имён подпапок внутри src принята та же практика.

Во-вторых, имя модуля должно совпадать с именем соответствующего ему файла. Именно поэтому файл, содержащий модуль Helpers, назван Helpers.hs.

Вот и всё. Теперь вы знаете, как организовать настоящий Haskell-проект. Позже я расскажу о модулях кое-что ещё, но на данный момент вам необходимо знать лишь это.
